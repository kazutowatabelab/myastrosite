---
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

// 記事データを取得し、日付順に並べ替え
const posts = (await getCollection('blog'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<!doctype html>
<html lang="ja">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			:root {
				--bg-primary: #0a0a0f;
				--bg-secondary: #121218;
				--bg-card: #1a1a24;
				--text-primary: #e8e8e8;
				--text-secondary: #a0a0a8;
				--accent: #4a9eff;
				--accent-hover: #6bb3ff;
				--border: #2a2a35;
			}

			body {
				background: var(--bg-primary);
				color: var(--text-primary);
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
			}

			.hero-section {
				position: relative;
				min-height: 40vh;
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				padding: 4rem 2rem;
				background: 
					linear-gradient(135deg, #0a0a0f 0%, #121218 50%, #0f0f15 100%);
				text-align: center;
				overflow: hidden;
			}

			.hero-section::before {
				content: '';
				position: absolute;
				top: 0; left: 0; right: 0; bottom: 0;
				background: 
					repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 2px, rgba(255, 255, 255, 0.02) 4px),
					repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 2px, rgba(255, 255, 255, 0.02) 4px);
				background-size: 40px 40px;
				animation: gridMove 20s linear infinite;
				opacity: 0.5;
			}

			@keyframes gridMove {
				0% { transform: translate(0, 0); }
				100% { transform: translate(40px, 40px); }
			}

			.geometric-shapes { position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; overflow: hidden; }
			.shape { position: absolute; opacity: 0.3; }
			.shape-1 { width: 200px; height: 200px; border: 2px solid #6bb3ff; border-radius: 50%; top: 10%; left: 10%; animation: rotate 30s linear infinite; }
			.shape-2 { width: 150px; height: 150px; border: 2px solid #6bb3ff; top: 60%; right: 15%; transform: rotate(45deg); animation: rotateReverse 25s linear infinite; }
			.shape-3 { width: 100px; height: 100px; border: 2px solid #6bb3ff; border-radius: 20%; bottom: 20%; left: 20%; animation: float 15s ease-in-out infinite; }
			.shape-4 { width: 80px; height: 80px; border: 2px solid #6bb3ff; top: 30%; right: 30%; transform: rotate(30deg); animation: pulse 8s ease-in-out infinite; }

			@keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
			@keyframes rotateReverse { 0% { transform: rotate(45deg); } 100% { transform: rotate(405deg); } }
			@keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-30px) rotate(180deg); } }
			@keyframes pulse { 0%, 100% { opacity: 0.3; transform: rotate(30deg) scale(1); } 50% { opacity: 0.5; transform: rotate(30deg) scale(1.2); } }

			.hero-title {
				font-size: 3.5rem;
				font-weight: 700;
				margin: 0 0 1rem 0;
				background: linear-gradient(135deg, #ffffff 0%, #a0a0a8 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
				position: relative;
				z-index: 1;
			}

			.hero-subtitle {
				font-size: