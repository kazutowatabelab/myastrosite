---
import { getCollection } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

// 記事を全件取得
const allPosts = await getCollection('blog');
// 日付順に並べ替えて最新の3件だけに絞る
const posts = allPosts
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);
---

<!doctype html>
<html lang="ja">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			:root {
				--bg-primary: #0a0a0f;
				--bg-secondary: #121218;
				--bg-card: #1a1a24;
				--text-primary: #e8e8e8;
				--text-secondary: #a0a0a8;
				--accent: #4a9eff;
				--accent-hover: #6bb3ff;
				--border: #2a2a35;
			}

			body {
				background: var(--bg-primary);
				color: var(--text-primary);
				margin: 0;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
			}

			/* --- ヒーローセクション（タイトルエリア） --- */
			.hero-section {
				position: relative;
				min-height: 50vh; /* 高さをしっかり確保 */
				display: flex;
				flex-direction: column;
				justify-content: center; /* 縦方向中央 */
				align-items: center;     /* 横方向中央 */
				padding: 4rem 2rem;
				background: linear-gradient(135deg, #0a0a0f 0%, #121218 50%, #0f0f15 100%);
				text-align: center;      /* テキスト中央 */
				overflow: hidden;
			}

			/* グリッド背景のアニメーション */
			.hero-section::before {
				content: '';
				position: absolute;
				top: 0; left: 0; right: 0; bottom: 0;
				background: 
					repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 2px, rgba(255, 255, 255, 0.02) 4px),
					repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255, 255, 255, 0.02) 2px, rgba(255, 255, 255, 0.02) 4px);
				background-size: